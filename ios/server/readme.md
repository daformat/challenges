# iOS - Simple Server

This server is used as a companion for the iOS challenge. Persistence is
in-memory, restarting the server will reset its state.

The server will sometime fail to send a response, take a very long time to
respond, or send duplicate events in the stream. You should react accordingly.

## How to run the server?

1. You need to install Go on your system: [official documentation](https://go.dev/doc/install)
2. You can then run the server with: `go run .`

## Documentation

### Methods

- `POST /stream`
- `POST /messages`: send a message
- `GET /messages`: list all messages
- `GET /messages/{id}`: get a message
- `PUT /messages/{id}`: update a message
- `DELETE /messages/{id}`: delete a message

### Entities

- `Message`
  * `idempotency_key` (`string`): required and unique for each message being
    sent
  * `id` (`string`): an opaque string generated by the server that uniquely
    identifies the message
  * `author` (`string`): either `"user"` or `"bot"` depending on who sent the
    message
  * `text` (`string`): the actual text of the message
  * `created_at` (`int`): the timestamp in milliseconds at which the message was
    stored by the server
